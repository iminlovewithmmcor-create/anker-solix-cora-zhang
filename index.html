<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anker SOLIX - Optimized DTC Website</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #2c7ed0;
            --primary-green: #00db84;
            --dark-gray: #333;
            --light-gray: #f5f5f5;
            --border-gray: #e0e0e0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--dark-gray);
        }

        /* Navigation Bar */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .cart-icon-container {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .cart-icon-container:hover {
            transform: scale(1.1);
        }

        .cart-icon {
            font-size: 1.8rem;
            color: var(--dark-gray);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
            border: 2px solid white;
        }

        .cart-count.hidden {
            display: none;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary-blue);
        }

        /* Triple Navigation */
        .triple-nav {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 2.5rem 2rem;
        }

        .triple-nav-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .triple-nav h2 {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
        }

        .nav-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .nav-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .nav-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 30px rgba(0,0,0,0.15);
        }

        .nav-card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .nav-card h3 {
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .nav-card-list {
            list-style: none;
            padding-left: 0;
        }

        .nav-card-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-gray);
            cursor: pointer;
            transition: padding-left 0.3s;
        }

        .nav-card-list li:hover {
            padding-left: 0.5rem;
            color: var(--primary-blue);
        }

        /* Smart Filter */
        .smart-filter {
            background: white;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .filter-section {
            margin-bottom: 2rem;
        }

        .filter-section h3 {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-option {
            padding: 0.5rem 1rem;
            border: 2px solid var(--border-gray);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-option:hover {
            border-color: var(--primary-blue);
            background: #e3f2fd;
        }

        .filter-option.active {
            border-color: var(--primary-blue);
            background: var(--primary-blue);
            color: white;
        }

        .filter-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(44, 126, 208, 0.4);
        }

        .btn-secondary {
            background: white;
            border: 2px solid var(--border-gray);
        }

        /* Products Section */
        .products-section {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            width: 100%;
            height: 250px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            font-weight: bold;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 1rem;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .product-price {
            color: var(--primary-blue);
            font-size: 1.5rem;
            font-weight: bold;
            margin: 1rem 0;
        }

        .product-specs {
            background: var(--light-gray);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-gray);
        }

        .spec-item:last-child {
            border-bottom: none;
        }

        .spec-translation {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary-blue);
            margin: 1rem 0;
        }

        .spec-translation h4 {
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .spec-translation-list {
            list-style: none;
            font-size: 0.9rem;
        }

        .spec-translation-list li {
            padding: 0.3rem 0;
        }

        .product-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .compare-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            cursor: pointer;
        }

        .compare-checkbox input {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Compare Bar */
        .compare-bar {
            position: fixed;
            bottom: -100px;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
            padding: 1rem 2rem;
            transition: bottom 0.3s;
            z-index: 999;
        }

        .compare-bar.active {
            bottom: 0;
        }

        .compare-bar-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .compare-items {
            display: flex;
            gap: 1rem;
        }

        .compare-item {
            background: var(--light-gray);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .remove-compare {
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 1rem;
        }

        /* Compare Page */
        .compare-page {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 2rem;
            display: none;
        }

        .compare-page.active {
            display: block;
        }

        .compare-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .compare-table-container {
            overflow-x: auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .compare-table {
            width: 100%;
            border-collapse: collapse;
        }

        .compare-table th,
        .compare-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border-gray);
        }

        .compare-table th {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            font-weight: 600;
        }

        .compare-table tr:nth-child(even) {
            background: var(--light-gray);
        }

        .category-row {
            background: #e3f2fd !important;
            font-weight: bold;
            color: var(--primary-blue);
            text-align: left;
        }

        .highlight-best {
            background: #4caf50;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-weight: bold;
        }

        .highlight-good {
            background: #8bc34a;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
        }

        .highlight-warning {
            background: #ff9800;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
        }

        /* AI Recommendation */
        .ai-recommendation {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .ai-recommendation h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .recommendation-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .recommendation-card {
            background: rgba(255,255,255,0.2);
            padding: 1rem;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .recommendation-card h4 {
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-cards {
                grid-template-columns: 1fr;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .compare-items {
                flex-wrap: wrap;
            }

            .nav-links {
                display: none;
            }

            .recommended-product {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .recommended-product-image {
                margin: 0 auto;
            }

            .scenario-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .modal-header h2 {
                font-size: 1.4rem;
            }

            .recommendation-compare-table {
                overflow-x: auto;
            }

            .product-image-cell img {
                width: 100px;
                height: 100px;
            }

            .product-name-cell {
                font-size: 0.9rem;
            }

            .product-price-cell {
                font-size: 1.2rem;
            }

            .recommendation-compare-table th,
            .recommendation-compare-table td {
                padding: 0.5rem;
                font-size: 0.9rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Tech Parameters Collapse */
        .tech-params {
            margin-top: 1rem;
        }

        .tech-toggle {
            cursor: pointer;
            color: var(--primary-blue);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .tech-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .tech-details.open {
            max-height: 500px;
        }

        .tech-details-content {
            padding: 1rem;
            background: var(--light-gray);
            border-radius: 8px;
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        /* Custom Modal */
        .custom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            animation: fadeIn 0.3s ease-out;
        }

        .custom-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.4s ease-out;
            position: relative;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            padding: 2rem;
            border-radius: 16px 16px 0 0;
            position: relative;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 2rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-section {
            margin-bottom: 2rem;
        }

        .modal-section h3 {
            color: var(--primary-blue);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .scenario-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--primary-blue);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .scenario-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .scenario-card-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .scenario-card h4 {
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
        }

        .scenario-card p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .scenario-card-products {
            background: white;
            padding: 0.8rem;
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .scenario-card-products strong {
            color: var(--primary-blue);
        }

        .recommendation-result {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .recommendation-result h3 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .recommended-product {
            background: rgba(255, 255, 255, 0.2);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            backdrop-filter: blur(10px);
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 1.5rem;
            align-items: center;
        }

        .recommended-product-image {
            width: 200px;
            height: 200px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .recommended-product-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 1rem;
        }

        .recommended-product-info {
            flex: 1;
        }

        .recommended-product h4 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: white;
        }

        .recommended-product-price {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 1rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .feature-list li::before {
            content: '‚úì';
            background: var(--primary-green);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .modal-footer {
            padding: 1.5rem 2rem;
            background: var(--light-gray);
            border-radius: 0 0 16px 16px;
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--primary-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            margin: 0 auto 1rem;
        }

        /* Recommendation Compare Table */
        .recommendation-compare-table {
            width: 100%;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .recommendation-compare-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .recommendation-compare-table th,
        .recommendation-compare-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border-gray);
        }

        .recommendation-compare-table th {
            background: var(--light-gray);
            font-weight: 600;
            color: var(--dark-gray);
        }

        .recommendation-compare-table tr:first-child th {
            border-bottom: 2px solid var(--primary-blue);
        }

        .product-image-cell {
            padding: 1.5rem;
        }

        .product-image-cell img {
            width: 150px;
            height: 150px;
            object-fit: contain;
        }

        .product-name-cell {
            font-weight: bold;
            font-size: 1.1rem;
            color: var(--primary-blue);
        }

        .product-price-cell {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-green);
        }

        .spec-category-row {
            background: #e3f2fd;
            font-weight: bold;
            color: var(--primary-blue);
            text-align: left !important;
        }

        .spec-label-cell {
            text-align: left !important;
            font-weight: 600;
            color: #666;
        }

        .spec-value-cell {
            color: var(--dark-gray);
        }

        .best-value-badge {
            display: inline-block;
            background: var(--primary-green);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        /* Shopping Cart Modal */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10001;
            animation: fadeIn 0.3s ease-out;
        }

        .cart-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-modal-content {
            background: white;
            border-radius: 16px;
            max-width: 900px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.4s ease-out;
        }

        .cart-item {
            display: grid;
            grid-template-columns: 120px 1fr auto;
            gap: 1.5rem;
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-gray);
            align-items: center;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-image {
            width: 120px;
            height: 120px;
            background: var(--light-gray);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 0.5rem;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
        }

        .cart-item-specs {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .cart-item-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 1rem;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--light-gray);
            border-radius: 8px;
            padding: 0.3rem;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .quantity-btn:hover {
            background: var(--primary-blue);
            color: white;
        }

        .quantity-display {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
        }

        .remove-item-btn {
            background: #ff4444;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .remove-item-btn:hover {
            background: #cc0000;
        }

        .cart-item-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 1rem;
        }

        .cart-item-subtotal {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary-green);
        }

        .cart-empty {
            text-align: center;
            padding: 4rem 2rem;
        }

        .cart-empty-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        .cart-empty-text {
            font-size: 1.2rem;
            color: #999;
            margin-bottom: 2rem;
        }

        .cart-summary {
            background: var(--light-gray);
            padding: 2rem;
            border-radius: 0 0 16px 16px;
        }

        .cart-summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            font-size: 1.1rem;
        }

        .cart-summary-row.total {
            border-top: 2px solid var(--border-gray);
            margin-top: 1rem;
            padding-top: 1rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-blue);
        }

        .cart-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .btn-checkout {
            flex: 1;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .btn-checkout:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(44, 126, 208, 0.4);
        }

        .btn-continue {
            padding: 1rem 2rem;
            background: white;
            border: 2px solid var(--border-gray);
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-continue:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        .add-to-cart-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .add-to-cart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(44, 126, 208, 0.4);
        }

        .add-to-cart-btn.added {
            background: var(--primary-green);
        }

        /* BFCM Promotion Banner */
        .promo-banner {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            text-align: center;
            padding: 1rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .promo-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .promo-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .promo-badge {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1rem;
            animation: pulse 2s infinite;
            border: 2px solid rgba(255, 255, 255, 0.5);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .promo-text {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .promo-discount {
            color: #ffd700;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .countdown-timer {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .countdown-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 60px;
        }

        .countdown-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffd700;
            line-height: 1;
        }

        .countdown-label {
            font-size: 0.75rem;
            color: #ccc;
            margin-top: 0.3rem;
        }

        .countdown-separator {
            font-size: 1.5rem;
            color: #ffd700;
            font-weight: bold;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            min-height: 500px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            overflow: hidden;
            padding-top: 2rem;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 2rem 3rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        /* Trust Badges */
        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 3rem;
            padding: 1.5rem 2rem;
            background: white;
            border-bottom: 1px solid var(--border-gray);
            flex-wrap: wrap;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.95rem;
        }

        .trust-badge-icon {
            font-size: 1.5rem;
        }

        .trust-badge-text {
            font-weight: 500;
        }

        .trust-badge strong {
            color: var(--dark-gray);
            font-weight: 600;
        }

        .hero-content {
            animation: fadeInLeft 1s ease-out;
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .hero-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        .hero-title {
            font-size: 3rem;
            font-weight: bold;
            line-height: 1.2;
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }

        .hero-title .highlight {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .hero-features {
            display: flex;
            gap: 1.5rem;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }

        .hero-feature {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .hero-feature-icon {
            font-size: 1.5rem;
        }

        .hero-feature-text {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark-gray);
        }

        .hero-price {
            display: flex;
            align-items: baseline;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .hero-price-current {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-blue);
        }

        .hero-price-original {
            font-size: 1.5rem;
            text-decoration: line-through;
            color: #999;
        }

        .hero-price-save {
            background: #ff4444;
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: bold;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .btn-hero-primary {
            padding: 1.2rem 3rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(44, 126, 208, 0.3);
        }

        .btn-hero-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44, 126, 208, 0.5);
        }

        .btn-hero-secondary {
            padding: 1.2rem 3rem;
            background: white;
            color: var(--dark-gray);
            border: 2px solid var(--border-gray);
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-hero-secondary:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        .hero-image-wrapper {
            animation: fadeInRight 1s ease-out;
        }

        .hero-image {
            position: relative;
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .hero-image img {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.2));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-gray);
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-blue);
        }

        .hero-stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }

        @media (max-width: 768px) {
            .promo-content {
                gap: 1rem;
            }

            .promo-text {
                font-size: 1rem;
            }

            .promo-discount {
                font-size: 1.2rem;
            }

            .countdown-number {
                font-size: 1.3rem;
            }

            .countdown-item {
                min-width: 45px;
            }

            .trust-badges {
                gap: 1.5rem;
                padding: 1rem;
            }

            .trust-badge {
                font-size: 0.85rem;
            }

            .trust-badge-icon {
                font-size: 1.2rem;
            }

            .hero-section {
                min-height: auto;
                padding-top: 1rem;
            }

            .hero-container {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 2rem 1rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .hero-features {
                gap: 1rem;
            }

            .hero-price-current {
                font-size: 2rem;
            }

            .hero-price-original {
                font-size: 1.2rem;
            }

            .hero-cta {
                flex-direction: column;
            }

            .btn-hero-primary,
            .btn-hero-secondary {
                width: 100%;
                padding: 1rem 2rem;
                font-size: 1rem;
            }

            .hero-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        @media (max-width: 768px) {
            .cart-item {
                grid-template-columns: 80px 1fr;
                gap: 1rem;
            }

            .cart-item-right {
                grid-column: 1 / -1;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

            .cart-item-image {
                width: 80px;
                height: 80px;
            }

            .cart-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">Anker SOLIX</div>
            <div class="nav-right">
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#products">Products</a></li>
                    <li><a href="#scenarios">Scenarios</a></li>
                    <li><a href="#compare">Compare</a></li>
                    <li><a href="#support">Support</a></li>
                </ul>
                <div class="cart-icon-container" onclick="openCart()">
                    <div class="cart-icon">üõí</div>
                    <div class="cart-count hidden" id="cartCount">0</div>
                </div>
            </div>
        </div>
    </nav>

    <!-- BFCM Promotion Banner -->
    <section class="promo-banner">
        <div class="promo-content">
            <div class="promo-badge">üî• BLACK FRIDAY SALE</div>
            <div class="promo-text">Nov 20th - Dec 1st</div>
            <div class="promo-discount">Up to 70% OFF</div>
            <div class="countdown-timer" id="countdownTimer">
                <div class="countdown-item">
                    <div class="countdown-number" id="days">00</div>
                    <div class="countdown-label">DAYS</div>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <div class="countdown-number" id="hours">00</div>
                    <div class="countdown-label">HOURS</div>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <div class="countdown-number" id="minutes">00</div>
                    <div class="countdown-label">MINS</div>
                </div>
                <div class="countdown-separator">:</div>
                <div class="countdown-item">
                    <div class="countdown-number" id="seconds">00</div>
                    <div class="countdown-label">SECS</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Badges -->
    <section class="trust-badges">
        <div class="trust-badge">
            <div class="trust-badge-icon">üöö</div>
            <div class="trust-badge-text"><strong>FREE</strong> Shipping</div>
        </div>
        <div class="trust-badge">
            <div class="trust-badge-icon">üîÑ</div>
            <div class="trust-badge-text"><strong>30-Day</strong> Returns</div>
        </div>
        <div class="trust-badge">
            <div class="trust-badge-icon">‚≠ê</div>
            <div class="trust-badge-text"><strong>4.8/5</strong> Rating (12K+ Reviews)</div>
        </div>
        <div class="trust-badge">
            <div class="trust-badge-icon">üõ°Ô∏è</div>
            <div class="trust-badge-text"><strong>5-Year</strong> Warranty</div>
        </div>
    </section>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-badge">‚ö° BESTSELLER - Save $320</div>
                <h1 class="hero-title">
                    <span class="highlight">32 Hours</span> of Fridge Backup<br>
                    Power Freedom Anywhere
                </h1>
                <p class="hero-subtitle">
                    Anker SOLIX C2000 Gen 2 - The perfect balance of power, portability, and price. Keep your essentials running during outages, camping trips, and adventures.
                </p>

                <div class="hero-features">
                    <div class="hero-feature">
                        <div class="hero-feature-icon">‚ö°</div>
                        <div class="hero-feature-text">2048Wh Capacity</div>
                    </div>
                    <div class="hero-feature">
                        <div class="hero-feature-icon">üîå</div>
                        <div class="hero-feature-text">2000W Output</div>
                    </div>
                    <div class="hero-feature">
                        <div class="hero-feature-icon">‚è±Ô∏è</div>
                        <div class="hero-feature-text">1.5hrs Fast Charge</div>
                    </div>
                </div>

                <div class="hero-price">
                    <div class="hero-price-current">$679</div>
                    <div class="hero-price-original">$999</div>
                    <div class="hero-price-save">Save 32%</div>
                </div>

                <div class="hero-cta">
                    <button class="btn-hero-primary" onclick="addToCart('C2000'); setTimeout(() => closeModal(), 1500);">
                        üõí Add to Cart - $679
                    </button>
                    <button class="btn-hero-secondary" onclick="document.getElementById('products').scrollIntoView({ behavior: 'smooth' });">
                        View All Products
                    </button>
                </div>
            </div>

            <div class="hero-image-wrapper">
                <div class="hero-image">
                    <img src="https://cdn.shopify.com/s/files/1/0887/1798/4111/files/SC01-_00239_3_3840x.png?v=1760352270" alt="Anker SOLIX C2000 Gen 2" onerror="this.src='https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A1783-US.png?v=1761548982'">
                </div>

                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-stat-number">170x</div>
                        <div class="hero-stat-label">Phone Charges</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number">32hrs</div>
                        <div class="hero-stat-label">Fridge Runtime</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-stat-number">3000+</div>
                        <div class="hero-stat-label">Cycle Life</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Triple Navigation Area -->
    <section class="triple-nav fade-in">
        <div class="triple-nav-container">
            <h2>Find Your Perfect Power Solution</h2>
            <div class="nav-cards">
                <!-- Shop by Scenario -->
                <div class="nav-card" onclick="showScenarios()">
                    <div class="nav-card-icon">üèïÔ∏è</div>
                    <h3>Shop by Scenario</h3>
                    <p style="margin-bottom: 1rem; color: #666;">Find the right product based on how you'll use it</p>
                    <ul class="nav-card-list">
                        <li>üèïÔ∏è Camping & Outdoors - 3-day power supply</li>
                        <li>üöê RV & Van Life - Freedom on the road</li>
                        <li>üè† Home Backup - Power when grid fails</li>
                        <li>üõ†Ô∏è Professional Work - Power your tools anywhere</li>
                        <li>‚õ∫ Backyard Party - Outdoor entertainment</li>
                        <li>üåä Off-Grid Living - Solar self-sufficiency</li>
                    </ul>
                </div>

                <!-- Shop by Pain Point -->
                <div class="nav-card" onclick="showPainPoints()">
                    <div class="nav-card-icon">üí°</div>
                    <h3>Shop by Pain Point</h3>
                    <p style="margin-bottom: 1rem; color: #666;">Tell us your problem, we'll solve it</p>
                    <ul class="nav-card-list">
                        <li>‚ùå Food spoils when power goes out</li>
                        <li>‚ùå Phone dies during camping trips</li>
                        <li>‚ùå RV fridge drains battery too fast</li>
                        <li>‚ùå No power at work sites</li>
                        <li>‚ùå Don't know how long power will last</li>
                        <li>‚ùå Solar charging is too slow</li>
                    </ul>
                </div>

                <!-- Shop by Product Type -->
                <div class="nav-card" onclick="showProducts()">
                    <div class="nav-card-icon">üì¶</div>
                    <h3>Shop by Product Type</h3>
                    <p style="margin-bottom: 1rem; color: #666;">Browse all product categories</p>
                    <ul class="nav-card-list">
                        <li>Portable Power Stations (1000-2000Wh)</li>
                        <li>Home Backup Systems (3000Wh+)</li>
                        <li>Solar Panels</li>
                        <li>Expansion Batteries</li>
                        <li>Accessories & Bundles</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart Filter -->
    <section class="smart-filter" id="filter-section">
        <h2 style="margin-bottom: 2rem;">üéØ Smart Filter - Find Your Perfect Match</h2>

        <div class="filter-section">
            <h3>üîå I need to power these devices:</h3>
            <div class="filter-options">
                <div class="filter-option" data-device="phone">üì± Phone/Tablet</div>
                <div class="filter-option" data-device="laptop">üíª Laptop</div>
                <div class="filter-option" data-device="fridge">üßä Refrigerator</div>
                <div class="filter-option" data-device="cooker">üç≥ Induction Cooker</div>
                <div class="filter-option" data-device="coffee">‚òï Coffee Maker</div>
                <div class="filter-option" data-device="medical">üíä Medical Devices</div>
                <div class="filter-option" data-device="tools">üîß Power Tools</div>
                <div class="filter-option" data-device="ac">‚ùÑÔ∏è Air Conditioner</div>
            </div>
        </div>

        <div class="filter-section">
            <h3>‚è±Ô∏è Power duration needed:</h3>
            <div class="filter-options">
                <div class="filter-option" data-duration="short">1-6 hours</div>
                <div class="filter-option" data-duration="medium">6-12 hours</div>
                <div class="filter-option" data-duration="long">12-24 hours</div>
                <div class="filter-option" data-duration="extralong">1-3 days</div>
                <div class="filter-option" data-duration="extended">3+ days</div>
            </div>
        </div>

        <div class="filter-section">
            <h3>üéí Portability requirement:</h3>
            <div class="filter-options">
                <div class="filter-option" data-weight="light">Ultra-portable (<10kg)</div>
                <div class="filter-option" data-weight="medium">Easy to carry (10-20kg)</div>
                <div class="filter-option" data-weight="heavy">Vehicle transport (20-50kg)</div>
                <div class="filter-option" data-weight="fixed">Fixed installation (50kg+)</div>
            </div>
        </div>

        <div class="filter-section">
            <h3>üí∞ Budget range:</h3>
            <div class="filter-options">
                <div class="filter-option" data-price="budget">$500-800</div>
                <div class="filter-option" data-price="mid">$800-1500</div>
                <div class="filter-option" data-price="premium">$1500-3000</div>
                <div class="filter-option" data-price="pro">$3000+</div>
            </div>
        </div>

        <div class="filter-buttons">
            <button class="btn btn-primary" onclick="applyFilters()">üîç Get Recommendations</button>
            <button class="btn btn-secondary" onclick="resetFilters()">Clear Filters</button>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <h2 style="margin-bottom: 2rem;">Recommended Products</h2>
        <div class="products-grid">
            <!-- Product 1: SOLIX C1000 -->
            <div class="product-card fade-in">
                <div class="product-image">
                    <img src="https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A17631A1_Product_Image_01_V1.png?v=1757296369" alt="SOLIX C1000" onerror="this.onerror=null; this.parentElement.innerHTML='C1000'; this.parentElement.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)';">
                </div>
                <div class="product-info">
                    <div class="product-title">SOLIX C1000 Gen 2</div>
                    <div class="product-price">$799</div>

                    <div class="spec-translation">
                        <h4>üîã What Can It Power? Plenty!</h4>
                        <ul class="spec-translation-list">
                            <li>üì± Charge your phone <strong>88 times</strong></li>
                            <li>üíª Charge laptop <strong>8 times</strong></li>
                            <li>üßä Run mini-fridge for <strong>12 hours</strong></li>
                            <li>‚òï Brew <strong>10 cups</strong> of coffee</li>
                            <li>üí° LED lights for <strong>50 hours</strong></li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>‚ö° Lightning Fast! Fully Charged During Lunch</h4>
                        <ul class="spec-translation-list">
                            <li>üíº 30-minute breakfast = <strong>50% charged</strong></li>
                            <li>üè† Only <strong>1.2 hours</strong> to reach 80%</li>
                            <li>‚òÄÔ∏è <strong>5 hours</strong> to full with solar (sunny day)</li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>üí™ Powers These Devices ‚úÖ</h4>
                        <ul class="spec-translation-list">
                            <li>‚úÖ Fridge, coffee maker, rice cooker</li>
                            <li>‚úÖ Laptop, monitor, router</li>
                            <li>‚úÖ TV, speakers, gaming console</li>
                            <li>‚ùå High-power induction cooker, AC (need F1200+)</li>
                        </ul>
                    </div>

                    <div class="tech-params">
                        <div class="tech-toggle" onclick="toggleTechDetails(this)">
                            <span>üìä Technical Specs</span>
                            <span class="arrow">‚ñº</span>
                        </div>
                        <div class="tech-details">
                            <div class="tech-details-content">
                                <div class="spec-item">
                                    <span>Capacity</span>
                                    <span><strong>1056Wh</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Continuous Power</span>
                                    <span><strong>1000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Peak Power</span>
                                    <span><strong>1500W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Weight</span>
                                    <span><strong>12kg (26.5 lbs)</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Battery Type</span>
                                    <span>LiFePO4 (Lithium Iron Phosphate)</span>
                                </div>
                                <div class="spec-item">
                                    <span>Cycle Life</span>
                                    <span>3000+ cycles</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="add-to-cart-btn" onclick="addToCart('C1000')">
                            <span>üõí</span>
                            <span>Add to Cart</span>
                        </button>
                        <div class="compare-checkbox">
                            <input type="checkbox" id="compare-c1000" onchange="toggleCompare('C1000', '$799', this.checked)">
                            <label for="compare-c1000">Compare</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 2: SOLIX C2000 -->
            <div class="product-card fade-in">
                <div class="product-image">
                    <img src="https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A1783-US.png?v=1761548982" alt="SOLIX C2000" onerror="this.onerror=null; this.parentElement.innerHTML='C2000'; this.parentElement.style.background='linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';">
                </div>
                <div class="product-info">
                    <div class="product-title">SOLIX C2000 Gen 2</div>
                    <div class="product-price">$999 <span style="background: #ff4444; color: white; font-size: 0.8rem; padding: 0.2rem 0.5rem; border-radius: 4px; margin-left: 0.5rem;">üî• Bestseller</span></div>

                    <div class="spec-translation">
                        <h4>üîã What Can It Power? Everything You Need!</h4>
                        <ul class="spec-translation-list">
                            <li>üì± Charge your phone <strong>170 times</strong></li>
                            <li>üíª Charge laptop <strong>16 times</strong></li>
                            <li>üßä Run mini-fridge for <strong>32 hours</strong></li>
                            <li>‚òï Brew <strong>20 cups</strong> of coffee</li>
                            <li>üí° LED lights for <strong>96 hours</strong></li>
                            <li>üì∫ Watch TV for <strong>8 hours</strong></li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>‚ö° Fast! Fully Charged During Lunch Break</h4>
                        <ul class="spec-translation-list">
                            <li>üíº 30 minutes before leaving = <strong>50% charged</strong></li>
                            <li>üè† Only <strong>1.5 hours</strong> to reach 80%</li>
                            <li>‚òÄÔ∏è <strong>6 hours</strong> to full with solar (sunny day)</li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>üí™ Powerful! Runs 90% of Home Appliances ‚úÖ</h4>
                        <ul class="spec-translation-list">
                            <li>‚úÖ Fridge, microwave, induction cooker</li>
                            <li>‚úÖ Coffee maker, oven, rice cooker</li>
                            <li>‚úÖ Power drill, angle grinder, air pump</li>
                            <li>‚úÖ Laptop, monitor, router</li>
                            <li>‚ùå Heavy-duty AC, water heater (need F3800)</li>
                        </ul>
                    </div>

                    <div class="tech-params">
                        <div class="tech-toggle" onclick="toggleTechDetails(this)">
                            <span>üìä Technical Specs</span>
                            <span class="arrow">‚ñº</span>
                        </div>
                        <div class="tech-details">
                            <div class="tech-details-content">
                                <div class="spec-item">
                                    <span>Capacity</span>
                                    <span><strong>2048Wh</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Continuous Power</span>
                                    <span><strong>2000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Peak Power</span>
                                    <span><strong>3000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Weight</span>
                                    <span><strong>27kg (59.5 lbs)</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Battery Type</span>
                                    <span>LiFePO4 (10-year lifespan)</span>
                                </div>
                                <div class="spec-item">
                                    <span>Cycle Life</span>
                                    <span>3000+ cycles</span>
                                </div>
                                <div class="spec-item">
                                    <span>Output Ports</span>
                                    <span>14 total (6√óAC + 6√óUSB-C + 2√óCar)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="add-to-cart-btn" onclick="addToCart('C2000')">
                            <span>üõí</span>
                            <span>Add to Cart</span>
                        </button>
                        <div class="compare-checkbox">
                            <input type="checkbox" id="compare-c2000" onchange="toggleCompare('C2000', '$999', this.checked)">
                            <label for="compare-c2000">Compare</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 3: SOLIX F2000 -->
            <div class="product-card fade-in">
                <div class="product-image">
                    <img src="https://cdn.shopify.com/s/files/1/0854/3820/2186/files/image1161.png?v=1733921565" alt="SOLIX F2000" onerror="this.onerror=null; this.parentElement.innerHTML='F2000'; this.parentElement.style.background='linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)';">
                </div>
                <div class="product-info">
                    <div class="product-title">SOLIX F2000</div>
                    <div class="product-price">$1,599</div>

                    <div class="spec-translation">
                        <h4>üîã Extended Runtime! Power for Days</h4>
                        <ul class="spec-translation-list">
                            <li>üì± Charge your phone <strong>170 times</strong></li>
                            <li>üíª Charge laptop <strong>16 times</strong></li>
                            <li>üßä Run fridge continuously for <strong>24 hours</strong></li>
                            <li>‚òï Brew <strong>20 cups</strong> of coffee</li>
                            <li>üí° LED lights for <strong>96 hours</strong></li>
                            <li>üç≥ Cook <strong>8 meals</strong> with induction cooker</li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>‚ö° Fast Charging Too</h4>
                        <ul class="spec-translation-list">
                            <li>üè† <strong>1.8 hours</strong> to reach 80%</li>
                            <li>‚òÄÔ∏è Supports <strong>1200W</strong> solar input</li>
                            <li>üöó Dual charging: car + solar simultaneously</li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>üí™ Professional Power for Heavy Equipment</h4>
                        <ul class="spec-translation-list">
                            <li>‚úÖ Full RV setup (fridge + AC + cooker)</li>
                            <li>‚úÖ Professional power tools (saw, welder)</li>
                            <li>‚úÖ Essential home backup power</li>
                            <li>‚úÖ Expandable - double capacity with extra battery</li>
                        </ul>
                    </div>

                    <div class="tech-params">
                        <div class="tech-toggle" onclick="toggleTechDetails(this)">
                            <span>üìä Technical Specs</span>
                            <span class="arrow">‚ñº</span>
                        </div>
                        <div class="tech-details">
                            <div class="tech-details-content">
                                <div class="spec-item">
                                    <span>Capacity</span>
                                    <span><strong>2048Wh</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Continuous Power</span>
                                    <span><strong>2000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Peak Power</span>
                                    <span><strong>3000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Weight</span>
                                    <span><strong>22kg (48.5 lbs)</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Expandable Capacity</span>
                                    <span>Up to 4096Wh (with expansion battery)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="add-to-cart-btn" onclick="addToCart('F2000')">
                            <span>üõí</span>
                            <span>Add to Cart</span>
                        </button>
                        <div class="compare-checkbox">
                            <input type="checkbox" id="compare-f2000" onchange="toggleCompare('F2000', '$1599', this.checked)">
                            <label for="compare-f2000">Compare</label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product 4: SOLIX F3800 -->
            <div class="product-card fade-in">
                <div class="product-image">
                    <img src="https://cdn.shopify.com/s/files/1/0854/3820/2186/files/cq5dam.web.12801_9b09bcfb-7112-49ed-a830-594980727641.png?v=1733920657" alt="SOLIX F3800" onerror="this.onerror=null; this.parentElement.innerHTML='F3800'; this.parentElement.style.background='linear-gradient(135deg, #fa709a 0%, #fee140 100%)';">
                </div>
                <div class="product-info">
                    <div class="product-title">SOLIX F3800 Plus</div>
                    <div class="product-price">$3,499 <span style="background: #ffd700; color: #333; font-size: 0.8rem; padding: 0.2rem 0.5rem; border-radius: 4px; margin-left: 0.5rem;">‚≠ê Pro</span></div>

                    <div class="spec-translation">
                        <h4>üè† Whole-Home Backup! Live Normally During Outages</h4>
                        <ul class="spec-translation-list">
                            <li>‚ùÑÔ∏è Run refrigerator for <strong>48 hours</strong></li>
                            <li>üå°Ô∏è Run AC for <strong>6-8 hours</strong></li>
                            <li>üíª Work from home for <strong>3 days</strong></li>
                            <li>üí° Power all lights for <strong>5 days</strong></li>
                            <li>üç≥ Cooking, laundry, hot water - <strong>all covered</strong></li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>‚ö° 6000W Massive Power + 240V Output</h4>
                        <ul class="spec-translation-list">
                            <li>‚úÖ Supports 240V heavy-duty appliances</li>
                            <li>‚úÖ Run multiple high-power devices simultaneously</li>
                            <li>‚úÖ Plug-n-Play - no professional installation needed</li>
                            <li>‚úÖ Expandable to <strong>26.88kWh</strong></li>
                        </ul>
                    </div>

                    <div class="spec-translation">
                        <h4>üåû Solar Self-Sufficiency System</h4>
                        <ul class="spec-translation-list">
                            <li>‚òÄÔ∏è Supports <strong>2400W</strong> solar input</li>
                            <li>üîÑ Use while charging - never run out</li>
                            <li>üè° Perfect for off-grid, farms, workshops</li>
                        </ul>
                    </div>

                    <div class="tech-params">
                        <div class="tech-toggle" onclick="toggleTechDetails(this)">
                            <span>üìä Technical Specs</span>
                            <span class="arrow">‚ñº</span>
                        </div>
                        <div class="tech-details">
                            <div class="tech-details-content">
                                <div class="spec-item">
                                    <span>Capacity</span>
                                    <span><strong>3840Wh</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Continuous Power</span>
                                    <span><strong>6000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Peak Power</span>
                                    <span><strong>9000W</strong></span>
                                </div>
                                <div class="spec-item">
                                    <span>Output Voltage</span>
                                    <span>120V/240V dual voltage</span>
                                </div>
                                <div class="spec-item">
                                    <span>Expandable Capacity</span>
                                    <span>Up to 26.88kWh</span>
                                </div>
                                <div class="spec-item">
                                    <span>Weight</span>
                                    <span>60kg (132 lbs, with wheels - mobile)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="product-actions">
                        <button class="add-to-cart-btn" onclick="addToCart('F3800')">
                            <span>üõí</span>
                            <span>Add to Cart</span>
                        </button>
                        <div class="compare-checkbox">
                            <input type="checkbox" id="compare-f3800" onchange="toggleCompare('F3800', '$3499', this.checked)">
                            <label for="compare-f3800">Compare</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Compare Bar -->
    <div class="compare-bar" id="compareBar">
        <div class="compare-bar-content">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span style="font-weight: bold;">üîÑ Compare (<span id="compareCount">0</span>/4)</span>
                <div class="compare-items" id="compareItems"></div>
            </div>
            <button class="btn btn-primary" onclick="showComparePage()">Compare Now</button>
        </div>
    </div>

    <!-- Compare Page -->
    <section class="compare-page" id="comparePage">
        <div class="compare-header">
            <h1>Product Comparison</h1>
            <p>Compare side-by-side to find your perfect match</p>
            <button class="btn btn-secondary" onclick="hideComparePage()" style="margin-top: 1rem;">‚Üê Back to Products</button>
        </div>

        <!-- AI Recommendation -->
        <div class="ai-recommendation">
            <h3>ü§ñ AI Purchase Recommendations</h3>
            <p>Based on your selected products, here's our advice:</p>
            <div class="recommendation-options" id="aiRecommendations">
                <!-- Dynamically generated -->
            </div>
        </div>

        <div class="compare-table-container">
            <table class="compare-table" id="compareTable">
                <thead>
                    <tr>
                        <th style="text-align: left;">Comparison</th>
                        <th id="productHeader1"></th>
                        <th id="productHeader2"></th>
                        <th id="productHeader3"></th>
                        <th id="productHeader4"></th>
                    </tr>
                </thead>
                <tbody id="compareTableBody">
                    <!-- Dynamically generated -->
                </tbody>
            </table>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <button class="btn btn-primary" onclick="showExportModal()">Export PDF</button>
            <button class="btn btn-secondary" onclick="showShareModal()">Share Link</button>
        </div>
    </section>

    <!-- Custom Modal -->
    <div class="custom-modal" id="customModal">
        <div class="modal-content" id="modalContent">
            <!-- Content will be dynamically inserted -->
        </div>
    </div>

    <!-- Shopping Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-modal-content">
            <div class="modal-header">
                <h2>üõí Shopping Cart</h2>
                <button class="modal-close" onclick="closeCart()">√ó</button>
            </div>
            <div class="modal-body" id="cartItemsContainer">
                <!-- Cart items will be dynamically inserted -->
            </div>
            <div class="cart-summary" id="cartSummary" style="display: none;">
                <div class="cart-summary-row">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">$0</span>
                </div>
                <div class="cart-summary-row">
                    <span>Shipping:</span>
                    <span>FREE</span>
                </div>
                <div class="cart-summary-row">
                    <span>Tax (estimated):</span>
                    <span id="cartTax">$0</span>
                </div>
                <div class="cart-summary-row total">
                    <span>Total:</span>
                    <span id="cartTotal">$0</span>
                </div>
                <div class="cart-actions">
                    <button class="btn-continue" onclick="closeCart()">Continue Shopping</button>
                    <button class="btn-checkout" onclick="checkout()">Proceed to Checkout</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Countdown Timer for BFCM
        function initCountdown() {
            // Set end date to December 1st, 2024, 23:59:59
            const endDate = new Date('December 1, 2024 23:59:59').getTime();

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = endDate - now;

                if (distance < 0) {
                    document.getElementById('days').textContent = '00';
                    document.getElementById('hours').textContent = '00';
                    document.getElementById('minutes').textContent = '00';
                    document.getElementById('seconds').textContent = '00';
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('days').textContent = String(days).padStart(2, '0');
                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Shopping Cart Management
        let cart = JSON.parse(localStorage.getItem('ankerCart')) || [];

        // Product details with images
        const productDetails = {
            'C1000': {
                name: 'SOLIX C1000 Gen 2',
                price: 799,
                image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A17631A1_Product_Image_01_V1.png?v=1757296369',
                capacity: '1056Wh',
                power: '1000W'
            },
            'C2000': {
                name: 'SOLIX C2000 Gen 2',
                price: 999,
                image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A1783-US.png?v=1761548982',
                capacity: '2048Wh',
                power: '2000W'
            },
            'F2000': {
                name: 'SOLIX F2000',
                price: 1599,
                image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/image1161.png?v=1733921565',
                capacity: '2048Wh',
                power: '2000W'
            },
            'F3800': {
                name: 'SOLIX F3800 Plus',
                price: 3499,
                image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/cq5dam.web.12801_9b09bcfb-7112-49ed-a830-594980727641.png?v=1733920657',
                capacity: '3840Wh',
                power: '6000W'
            }
        };

        // Add to cart function
        function addToCart(productId) {
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: productId,
                    quantity: 1
                });
            }

            saveCart();
            updateCartCount();
            showAddedNotification(productId);
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartCount();
            renderCart();
        }

        // Update quantity
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                    renderCart();
                }
            }
        }

        // Save cart to localStorage
        function saveCart() {
            localStorage.setItem('ankerCart', JSON.stringify(cart));
        }

        // Update cart count in header
        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCountEl = document.getElementById('cartCount');
            cartCountEl.textContent = count;

            if (count > 0) {
                cartCountEl.classList.remove('hidden');
            } else {
                cartCountEl.classList.add('hidden');
            }
        }

        // Open cart modal
        function openCart() {
            const modal = document.getElementById('cartModal');
            modal.classList.add('active');
            renderCart();

            // Close on background click
            modal.onclick = function(e) {
                if (e.target === modal) {
                    closeCart();
                }
            };
        }

        // Close cart modal
        function closeCart() {
            const modal = document.getElementById('cartModal');
            modal.classList.remove('active');
        }

        // Render cart items
        function renderCart() {
            const container = document.getElementById('cartItemsContainer');
            const summary = document.getElementById('cartSummary');

            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">üõí</div>
                        <div class="cart-empty-text">Your cart is empty</div>
                        <button class="btn btn-primary" onclick="closeCart()">Start Shopping</button>
                    </div>
                `;
                summary.style.display = 'none';
                return;
            }

            summary.style.display = 'block';

            let html = '';
            let subtotal = 0;

            cart.forEach(item => {
                const product = productDetails[item.id];
                const itemTotal = product.price * item.quantity;
                subtotal += itemTotal;

                html += `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            <img src="${product.image}" alt="${product.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-title">${product.name}</div>
                            <div class="cart-item-specs">${product.capacity} | ${product.power}</div>
                            <div class="cart-item-price">$${product.price.toLocaleString()}</div>
                            <div class="cart-item-actions">
                                <div class="quantity-control">
                                    <button class="quantity-btn" onclick="updateQuantity('${item.id}', -1)">‚àí</button>
                                    <div class="quantity-display">${item.quantity}</div>
                                    <button class="quantity-btn" onclick="updateQuantity('${item.id}', 1)">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="cart-item-right">
                            <div class="cart-item-subtotal">$${itemTotal.toLocaleString()}</div>
                            <button class="remove-item-btn" onclick="removeFromCart('${item.id}')">Remove</button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;

            // Update summary
            const tax = Math.round(subtotal * 0.08); // 8% tax
            const total = subtotal + tax;

            document.getElementById('cartSubtotal').textContent = `$${subtotal.toLocaleString()}`;
            document.getElementById('cartTax').textContent = `$${tax.toLocaleString()}`;
            document.getElementById('cartTotal').textContent = `$${total.toLocaleString()}`;
        }

        // Show added to cart notification
        function showAddedNotification(productId) {
            const product = productDetails[productId];
            const content = `
                <div class="modal-header">
                    <h2>‚úì Added to Cart</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div class="success-icon">‚úì</div>
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">${product.name}</h3>
                    <p style="color: #666; margin-bottom: 2rem;">has been added to your cart</p>

                    <div style="background: var(--light-gray); padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                        <img src="${product.image}" alt="${product.name}" style="width: 150px; height: 150px; object-fit: contain; margin-bottom: 1rem;">
                        <div style="font-size: 1.2rem; font-weight: bold; color: var(--primary-green);">$${product.price.toLocaleString()}</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Continue Shopping</button>
                    <button class="btn btn-primary" onclick="closeModal(); openCart();">View Cart</button>
                </div>
            `;
            showModal(content);
        }

        // Checkout function
        function checkout() {
            const total = document.getElementById('cartTotal').textContent;
            const content = `
                <div class="modal-header">
                    <h2>üéâ Checkout</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div class="success-icon">üí≥</div>
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">Order Summary</h3>
                    <p style="color: #666; margin-bottom: 2rem;">You have ${cart.length} product(s) in your cart</p>

                    <div style="background: linear-gradient(135deg, var(--primary-blue), var(--primary-green)); color: white; padding: 2rem; border-radius: 12px; margin: 1.5rem 0;">
                        <div style="font-size: 1rem; margin-bottom: 0.5rem;">Total Amount</div>
                        <div style="font-size: 2.5rem; font-weight: bold;">${total}</div>
                        <div style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.9;">Including FREE shipping & tax</div>
                    </div>

                    <div style="background: #fff3cd; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ffc107; margin-top: 2rem;">
                        <p style="color: #856404; margin: 0;">üìù This is a demo website. No actual payment will be processed.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal(); closeCart();">Back to Shopping</button>
                    <button class="btn btn-primary" onclick="closeModal(); closeCart(); clearCart();">Complete Order (Demo)</button>
                </div>
            `;
            showModal(content);
        }

        // Clear cart (for demo)
        function clearCart() {
            cart = [];
            saveCart();
            updateCartCount();

            const content = `
                <div class="modal-header" style="background: linear-gradient(135deg, var(--primary-green), #00b36b);">
                    <h2>‚úì Order Placed!</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div class="success-icon">üéâ</div>
                    <h3 style="color: var(--primary-green); margin-bottom: 1rem;">Thank you for your order!</h3>
                    <p style="color: #666; margin-bottom: 2rem;">Your order has been successfully placed (demo mode)</p>

                    <div style="background: var(--light-gray); padding: 1.5rem; border-radius: 8px;">
                        <p style="margin-bottom: 1rem;">‚úì Order confirmation email sent</p>
                        <p style="margin-bottom: 1rem;">‚úì Expected delivery: 3-5 business days</p>
                        <p>‚úì Track your order in My Account</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="closeModal()">Continue Shopping</button>
                </div>
            `;
            showModal(content);
        }

        // Initialize cart and countdown on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
            initCountdown();
        });

        // Modal Functions
        function showModal(content) {
            const modal = document.getElementById('customModal');
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = content;
            modal.classList.add('active');

            // Close on background click
            modal.onclick = function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            };
        }

        function closeModal() {
            const modal = document.getElementById('customModal');
            modal.classList.remove('active');
        }

        function showScenarioModal() {
            const content = `
                <div class="modal-header">
                    <h2>üèïÔ∏è Shop by Scenario</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <p style="color: #666; margin-bottom: 2rem;">Choose your scenario and we'll recommend the perfect power solution</p>

                    <div class="scenario-grid">
                        <div class="scenario-card">
                            <div class="scenario-card-icon">üèïÔ∏è</div>
                            <h4>Camping & Outdoors</h4>
                            <p>Power your devices during 3-day camping trips without worrying about running out of battery</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> C1000, C2000<br>
                                <span style="color: #666;">Powers: Phone, laptop, LED lights, mini fridge</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üöê</div>
                            <h4>RV & Van Life</h4>
                            <p>Complete power freedom on the road - run appliances, cook meals, and stay connected</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> F2000, F3800<br>
                                <span style="color: #666;">Powers: Fridge, AC, induction cooker, all devices</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üè†</div>
                            <h4>Home Backup</h4>
                            <p>Keep essential appliances running during power outages - protect food, medical devices, and communication</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> C2000, F3800<br>
                                <span style="color: #666;">Powers: Fridge, router, lights, medical equipment</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üõ†Ô∏è</div>
                            <h4>Professional Work</h4>
                            <p>Power tools and equipment at remote work sites without access to grid power</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> F2000, F3800<br>
                                <span style="color: #666;">Powers: Drills, saws, welders, heavy equipment</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">‚õ∫</div>
                            <h4>Backyard Party</h4>
                            <p>Outdoor entertainment made easy - lights, speakers, projectors for perfect gatherings</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> C1000, C2000<br>
                                <span style="color: #666;">Powers: Speakers, lights, projector, cooking equipment</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üåä</div>
                            <h4>Off-Grid Living</h4>
                            <p>Complete energy independence with solar - live sustainably without grid dependency</p>
                            <div class="scenario-card-products">
                                <strong>Recommended:</strong> F3800 + Solar Panels<br>
                                <span style="color: #666;">Expandable to 26.88kWh, 2400W solar input</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                    <button class="btn btn-primary" onclick="closeModal(); document.getElementById('products').scrollIntoView({ behavior: 'smooth' });">View All Products</button>
                </div>
            `;
            showModal(content);
        }

        function showPainPointModal() {
            const content = `
                <div class="modal-header">
                    <h2>üí° Shop by Pain Point</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <p style="color: #666; margin-bottom: 2rem;">Tell us your problem, we'll find the solution</p>

                    <div class="scenario-grid">
                        <div class="scenario-card">
                            <div class="scenario-card-icon">üßä</div>
                            <h4>Food spoils during outages</h4>
                            <p>Stop worrying about losing groceries when the power goes out</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> C2000 or F3800<br>
                                <span style="color: #666;">Powers fridge for 32-48 hours continuously</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üì±</div>
                            <h4>Phone dies while camping</h4>
                            <p>Stay connected and capture memories without battery anxiety</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> C1000<br>
                                <span style="color: #666;">Charges phone 88+ times, ultra-portable</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üöê</div>
                            <h4>RV fridge drains battery</h4>
                            <p>Keep food fresh on long trips without worrying about power</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> F2000 + Solar<br>
                                <span style="color: #666;">24+ hours runtime, rechargeable on the go</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">üîß</div>
                            <h4>No power at work sites</h4>
                            <p>Run professional tools anywhere without grid access</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> F2000 or F3800<br>
                                <span style="color: #666;">2000W-6000W power, handles heavy equipment</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">‚è±Ô∏è</div>
                            <h4>Uncertain runtime</h4>
                            <p>Know exactly how long your devices will run with real-time monitoring</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> Any SOLIX Model<br>
                                <span style="color: #666;">Built-in LCD shows remaining runtime per device</span>
                            </div>
                        </div>

                        <div class="scenario-card">
                            <div class="scenario-card-icon">‚òÄÔ∏è</div>
                            <h4>Solar charging too slow</h4>
                            <p>Fast solar charging with high-wattage input support</p>
                            <div class="scenario-card-products">
                                <strong>Solution:</strong> F3800 with Solar Panels<br>
                                <span style="color: #666;">Up to 2400W solar input, charges in 2-3 hours</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                    <button class="btn btn-primary" onclick="closeModal(); document.getElementById('filter-section').scrollIntoView({ behavior: 'smooth' });">Use Smart Filter</button>
                </div>
            `;
            showModal(content);
        }

        function showRecommendationModal(recommendation) {
            const products = {
                'C1000': {
                    name: 'SOLIX C1000 Gen 2',
                    price: '$799',
                    image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A17631A1_Product_Image_01_V1.png?v=1757296369',
                    capacity: '1056Wh',
                    power: '1000W',
                    weight: '12kg',
                    phoneCharges: '88 times',
                    fridgeHours: '12 hours',
                    chargeTime: '1.2 hrs',
                    solarInput: '800W',
                    bestFor: 'Short camping trips, budget-conscious'
                },
                'C2000': {
                    name: 'SOLIX C2000 Gen 2',
                    price: '$999',
                    image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/A1783-US.png?v=1761548982',
                    capacity: '2048Wh',
                    power: '2000W',
                    weight: '27kg',
                    phoneCharges: '170 times',
                    fridgeHours: '32 hours',
                    chargeTime: '1.5 hrs',
                    solarInput: '1400W',
                    bestFor: 'Family use, home emergency backup'
                },
                'F2000': {
                    name: 'SOLIX F2000',
                    price: '$1,599',
                    image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/image1161.png?v=1733921565',
                    capacity: '2048Wh',
                    power: '2000W',
                    weight: '22kg',
                    phoneCharges: '170 times',
                    fridgeHours: '24 hours',
                    chargeTime: '1.8 hrs',
                    solarInput: '1200W',
                    bestFor: 'RV life, professional outdoor work'
                },
                'F3800': {
                    name: 'SOLIX F3800 Plus',
                    price: '$3,499',
                    image: 'https://cdn.shopify.com/s/files/1/0854/3820/2186/files/cq5dam.web.12801_9b09bcfb-7112-49ed-a830-594980727641.png?v=1733920657',
                    capacity: '3840Wh',
                    power: '6000W',
                    weight: '60kg',
                    phoneCharges: '320 times',
                    fridgeHours: '48 hours',
                    chargeTime: '2.5 hrs',
                    solarInput: '2400W',
                    bestFor: 'Whole-home backup, off-grid living'
                }
            };

            const selectedProducts = recommendation.split(' or ').map(p => p.trim());
            const productsToShow = selectedProducts.map(key => products[key]).filter(p => p);

            // Find best values
            const capacities = productsToShow.map(p => parseInt(p.capacity));
            const maxCapacity = Math.max(...capacities);
            const prices = productsToShow.map(p => parseFloat(p.price.replace('$', '').replace(',', '')));
            const minPrice = Math.min(...prices);
            const weights = productsToShow.map(p => parseInt(p.weight));
            const minWeight = Math.min(...weights);

            // Generate table headers with images
            const headers = productsToShow.map((p, idx) => {
                const isMaxCapacity = parseInt(p.capacity) === maxCapacity;
                return `
                    <th>
                        <div class="product-image-cell">
                            <img src="${p.image}" alt="${p.name}">
                        </div>
                        <div class="product-name-cell">${p.name}</div>
                        <div class="product-price-cell">${p.price}${parseFloat(p.price.replace('$', '').replace(',', '')) === minPrice ? '<span class="best-value-badge">Best Value</span>' : ''}</div>
                    </th>
                `;
            }).join('');

            // Generate comparison rows
            const comparisonRows = `
                <tr class="spec-category-row">
                    <td colspan="${productsToShow.length + 1}">üì¶ Basic Specifications</td>
                </tr>
                <tr>
                    <td class="spec-label-cell">Capacity</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.capacity}${parseInt(p.capacity) === maxCapacity ? ' <span class="best-value-badge">Max</span>' : ''}</td>`).join('')}
                </tr>
                <tr>
                    <td class="spec-label-cell">Power Output</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.power}</td>`).join('')}
                </tr>
                <tr>
                    <td class="spec-label-cell">Weight</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.weight}${parseInt(p.weight) === minWeight ? ' <span class="best-value-badge">Lightest</span>' : ''}</td>`).join('')}
                </tr>

                <tr class="spec-category-row">
                    <td colspan="${productsToShow.length + 1}">‚ö° Real-World Performance</td>
                </tr>
                <tr>
                    <td class="spec-label-cell">üì± Phone Charges</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.phoneCharges}</td>`).join('')}
                </tr>
                <tr>
                    <td class="spec-label-cell">üßä Fridge Runtime</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.fridgeHours}</td>`).join('')}
                </tr>
                <tr>
                    <td class="spec-label-cell">‚è±Ô∏è Charge Time (0-80%)</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.chargeTime}</td>`).join('')}
                </tr>
                <tr>
                    <td class="spec-label-cell">‚òÄÔ∏è Solar Input</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.solarInput}</td>`).join('')}
                </tr>

                <tr class="spec-category-row">
                    <td colspan="${productsToShow.length + 1}">üéØ Best For</td>
                </tr>
                <tr>
                    <td class="spec-label-cell">Ideal Use Case</td>
                    ${productsToShow.map(p => `<td class="spec-value-cell">${p.bestFor}</td>`).join('')}
                </tr>
            `;

            const content = `
                <div class="modal-header">
                    <h2>‚ú® Your Perfect Match</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body">
                    <p style="color: #666; margin-bottom: 1.5rem; text-align: center;">Based on your needs, we recommend these products. Compare them side-by-side:</p>

                    <div class="recommendation-compare-table">
                        <table>
                            <thead>
                                <tr>
                                    <th style="text-align: left;">Compare</th>
                                    ${headers}
                                </tr>
                            </thead>
                            <tbody>
                                ${comparisonRows}
                            </tbody>
                        </table>
                    </div>

                    <div style="background: #e3f2fd; padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--primary-blue); margin-top: 1.5rem;">
                        <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">üí° Why these recommendations?</h3>
                        <p style="color: #666; margin-bottom: 0;">We analyzed your power needs, duration requirements, portability preferences, and budget to find the perfect balance between performance and value. Products with badges indicate the best value in that category.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Keep Browsing</button>
                    <button class="btn btn-primary" onclick="closeModal(); document.getElementById('products').scrollIntoView({ behavior: 'smooth' });">View Recommended Products</button>
                </div>
            `;
            showModal(content);
        }

        function showExportModal() {
            const content = `
                <div class="modal-header">
                    <h2>üìÑ Export Comparison</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div class="success-icon">‚úì</div>
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">Comparison Ready!</h3>
                    <p style="color: #666; margin-bottom: 2rem;">Your product comparison has been prepared and is ready to download.</p>

                    <div style="background: var(--light-gray); padding: 1.5rem; border-radius: 8px; margin: 1.5rem 0;">
                        <h4 style="color: var(--primary-blue); margin-bottom: 1rem;">üìä Export Options</h4>
                        <div style="display: grid; gap: 1rem;">
                            <button class="btn btn-primary" style="width: 100%;">Download as PDF</button>
                            <button class="btn btn-secondary" style="width: 100%;">Download as Excel</button>
                            <button class="btn btn-secondary" style="width: 100%;">Send to Email</button>
                        </div>
                    </div>

                    <p style="font-size: 0.9rem; color: #999;">The PDF includes all specifications, pricing, and recommendations</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                </div>
            `;
            showModal(content);
        }

        function showShareModal() {
            const content = `
                <div class="modal-header">
                    <h2>üîó Share Comparison</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div class="success-icon">‚úì</div>
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">Link Copied!</h3>
                    <p style="color: #666; margin-bottom: 2rem;">Share this comparison with friends or save it for later reference.</p>

                    <div style="background: var(--light-gray); padding: 1rem; border-radius: 8px; margin: 1.5rem 0; font-family: monospace; font-size: 0.9rem; word-break: break-all;">
                        https://ankersolix.com/compare?products=${compareProducts.join(',')}
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 2rem;">
                        <button class="btn btn-secondary" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <span>üìß</span> Email
                        </button>
                        <button class="btn btn-secondary" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <span>üí¨</span> WhatsApp
                        </button>
                        <button class="btn btn-secondary" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <span>üì±</span> SMS
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="closeModal()">Done</button>
                </div>
            `;
            showModal(content);
        }

        function showCompareErrorModal(message) {
            const content = `
                <div class="modal-header" style="background: linear-gradient(135deg, #ff6b6b, #ee5a6f);">
                    <h2>‚ö†Ô∏è ${message === 'min' ? 'Not Enough Products' : 'Too Many Products'}</h2>
                    <button class="modal-close" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <div style="width: 80px; height: 80px; background: #ff6b6b; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; margin: 0 auto 1rem;">!</div>
                    <h3 style="color: #ff6b6b; margin-bottom: 1rem;">${message === 'min' ? 'Select More Products' : 'Maximum Limit Reached'}</h3>
                    <p style="color: #666; margin-bottom: 2rem;">${message === 'min' ? 'Please select at least 2 products to compare' : 'You can compare up to 4 products at a time'}</p>

                    <div style="background: #fff3cd; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ffc107;">
                        <p style="color: #856404; margin: 0;">üí° Tip: Comparing 2-3 products gives you the clearest insights!</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="closeModal()">Got it</button>
                </div>
            `;
            showModal(content);
        }

        // Product Data
        const productData = {
            'C1000': {
                name: 'SOLIX C1000',
                price: '$799',
                capacity: '1056Wh',
                power: '1000W',
                peakPower: '1500W',
                weight: '12kg',
                phoneCharges: '88 times',
                laptopCharges: '8 times',
                fridgeHours: '12 hours',
                coffees: '10 cups',
                chargeTime: '1.2 hrs (0-80%)',
                solarInput: '800W',
                outlets: '10 ports',
                pricePerWh: '$0.76',
                bestFor: 'Short camping trips, budget-conscious, lightweight needs'
            },
            'C2000': {
                name: 'SOLIX C2000 Gen 2',
                price: '$999',
                capacity: '2048Wh',
                power: '2000W',
                peakPower: '3000W',
                weight: '27kg',
                phoneCharges: '170 times',
                laptopCharges: '16 times',
                fridgeHours: '32 hours',
                coffees: '20 cups',
                chargeTime: '1.5 hrs (0-80%)',
                solarInput: '1400W',
                outlets: '14 ports',
                pricePerWh: '$0.49',
                bestFor: '3-5 day camping, family use, home emergency backup'
            },
            'F2000': {
                name: 'SOLIX F2000',
                price: '$1599',
                capacity: '2048Wh',
                power: '2000W',
                peakPower: '3000W',
                weight: '22kg',
                phoneCharges: '170 times',
                laptopCharges: '16 times',
                fridgeHours: '24 hours',
                coffees: '20 cups',
                chargeTime: '1.8 hrs (0-80%)',
                solarInput: '1200W',
                outlets: '14 ports',
                pricePerWh: '$0.78',
                bestFor: 'RV enthusiasts, extended trips, professional outdoor work'
            },
            'F3800': {
                name: 'SOLIX F3800 Plus',
                price: '$3499',
                capacity: '3840Wh',
                power: '6000W',
                peakPower: '9000W',
                weight: '60kg',
                phoneCharges: '320 times',
                laptopCharges: '30 times',
                fridgeHours: '48 hours',
                coffees: '38 cups',
                chargeTime: '2.5 hrs (0-80%)',
                solarInput: '2400W',
                outlets: '16 ports',
                pricePerWh: '$0.91',
                bestFor: 'Whole-home backup, off-grid living, professional workstation'
            }
        };

        // Compare Products Management
        let compareProducts = [];

        function toggleCompare(productName, price, checked) {
            if (checked) {
                if (compareProducts.length >= 4) {
                    showCompareErrorModal('max');
                    event.target.checked = false;
                    return;
                }
                compareProducts.push(productName);
            } else {
                compareProducts = compareProducts.filter(p => p !== productName);
            }
            updateCompareBar();
        }

        function updateCompareBar() {
            const compareBar = document.getElementById('compareBar');
            const compareCount = document.getElementById('compareCount');
            const compareItems = document.getElementById('compareItems');

            compareCount.textContent = compareProducts.length;

            if (compareProducts.length > 0) {
                compareBar.classList.add('active');
                compareItems.innerHTML = compareProducts.map(product => `
                    <div class="compare-item">
                        <span>${product}</span>
                        <button class="remove-compare" onclick="removeCompare('${product}')">√ó</button>
                    </div>
                `).join('');
            } else {
                compareBar.classList.remove('active');
                compareItems.innerHTML = '';
            }
        }

        function removeCompare(productName) {
            compareProducts = compareProducts.filter(p => p !== productName);
            document.getElementById(`compare-${productName.toLowerCase()}`).checked = false;
            updateCompareBar();
        }

        function showComparePage() {
            if (compareProducts.length < 2) {
                showCompareErrorModal('min');
                return;
            }

            document.getElementById('products').style.display = 'none';
            document.querySelector('.triple-nav').style.display = 'none';
            document.getElementById('filter-section').style.display = 'none';
            document.getElementById('comparePage').classList.add('active');
            document.getElementById('compareBar').classList.remove('active');

            generateCompareTable();
            generateAIRecommendations();
        }

        function hideComparePage() {
            document.getElementById('products').style.display = 'block';
            document.querySelector('.triple-nav').style.display = 'block';
            document.getElementById('filter-section').style.display = 'block';
            document.getElementById('comparePage').classList.remove('active');
            document.getElementById('compareBar').classList.add('active');
        }

        function generateCompareTable() {
            // Set headers
            compareProducts.forEach((product, index) => {
                const header = document.getElementById(`productHeader${index + 1}`);
                if (header) {
                    header.textContent = productData[product].name;
                    header.style.display = 'table-cell';
                }
            });

            // Hide unused columns
            for (let i = compareProducts.length; i < 4; i++) {
                const header = document.getElementById(`productHeader${i + 1}`);
                if (header) header.style.display = 'none';
            }

            // Generate comparison content
            const tbody = document.getElementById('compareTableBody');
            tbody.innerHTML = `
                <tr class="category-row">
                    <td colspan="${compareProducts.length + 1}">üì¶ Basic Information</td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Price</td>
                    ${compareProducts.map(p => `<td>${productData[p].price}</td>`).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Capacity</td>
                    ${compareProducts.map(p => {
                        const capacity = parseInt(productData[p].capacity);
                        const maxCapacity = Math.max(...compareProducts.map(prod => parseInt(productData[prod].capacity)));
                        const isMax = capacity === maxCapacity;
                        return `<td>${productData[p].capacity} ${isMax ? '<span class="highlight-best">Largest</span>' : ''}</td>`;
                    }).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Continuous Power</td>
                    ${compareProducts.map(p => {
                        const power = parseInt(productData[p].power);
                        const maxPower = Math.max(...compareProducts.map(prod => parseInt(productData[prod].power)));
                        const isMax = power === maxPower;
                        return `<td>${productData[p].power} ${isMax ? '<span class="highlight-best">Strongest</span>' : ''}</td>`;
                    }).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Peak Power</td>
                    ${compareProducts.map(p => `<td>${productData[p].peakPower}</td>`).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Weight</td>
                    ${compareProducts.map(p => {
                        const weight = parseInt(productData[p].weight);
                        const minWeight = Math.min(...compareProducts.map(prod => parseInt(productData[prod].weight)));
                        const isMin = weight === minWeight;
                        return `<td>${productData[p].weight} ${isMin ? '<span class="highlight-best">Lightest</span>' : weight > 20 ? '<span class="highlight-warning">Heavy</span>' : '<span class="highlight-good">Moderate</span>'}</td>`;
                    }).join('')}
                </tr>

                <tr class="category-row">
                    <td colspan="${compareProducts.length + 1}">üí° Real-World Usage (Scenario Comparison)</td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">üì± Phone Charges</td>
                    ${compareProducts.map(p => `<td>${productData[p].phoneCharges}</td>`).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">üíª Laptop Charges</td>
                    ${compareProducts.map(p => `<td>${productData[p].laptopCharges}</td>`).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">üßä Fridge Runtime</td>
                    ${compareProducts.map(p => {
                        const hours = parseInt(productData[p].fridgeHours);
                        return `<td>${productData[p].fridgeHours} ${hours >= 24 ? '<span class="highlight-best">Excellent</span>' : hours >= 18 ? '<span class="highlight-good">Good</span>' : '<span class="highlight-warning">Limited</span>'}</td>`;
                    }).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">‚òï Coffee Brews</td>
                    ${compareProducts.map(p => `<td>${productData[p].coffees}</td>`).join('')}
                </tr>

                <tr class="category-row">
                    <td colspan="${compareProducts.length + 1}">‚ö° Charging Speed</td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">AC Charging (0-80%)</td>
                    ${compareProducts.map(p => {
                        const time = parseFloat(productData[p].chargeTime);
                        const minTime = Math.min(...compareProducts.map(prod => parseFloat(productData[prod].chargeTime)));
                        const isMin = time === minTime;
                        return `<td>${productData[p].chargeTime} ${isMin ? '<span class="highlight-best">Fastest</span>' : time < 1.5 ? '<span class="highlight-good">Fast</span>' : '<span class="highlight-good">Normal</span>'}</td>`;
                    }).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Solar Input Power</td>
                    ${compareProducts.map(p => {
                        const solar = parseInt(productData[p].solarInput);
                        const maxSolar = Math.max(...compareProducts.map(prod => parseInt(productData[prod].solarInput)));
                        const isMax = solar === maxSolar;
                        return `<td>${productData[p].solarInput} ${isMax ? '<span class="highlight-best">Strongest</span>' : ''}</td>`;
                    }).join('')}
                </tr>

                <tr class="category-row">
                    <td colspan="${compareProducts.length + 1}">üîå Output Ports</td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Total Ports</td>
                    ${compareProducts.map(p => `<td>${productData[p].outlets}</td>`).join('')}
                </tr>

                <tr class="category-row">
                    <td colspan="${compareProducts.length + 1}">üí∞ Value Analysis</td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Price per Wh</td>
                    ${compareProducts.map(p => {
                        const pricePerWh = parseFloat(productData[p].pricePerWh.replace('$', ''));
                        const minPrice = Math.min(...compareProducts.map(prod => parseFloat(productData[prod].pricePerWh.replace('$', ''))));
                        const isMin = pricePerWh === minPrice;
                        return `<td>${productData[p].pricePerWh} ${isMin ? '<span class="highlight-best">Best Value</span>' : '<span class="highlight-good">Good</span>'}</td>`;
                    }).join('')}
                </tr>
                <tr>
                    <td style="font-weight: bold;">Best For</td>
                    ${compareProducts.map(p => `<td style="text-align: left; padding-left: 1rem;">${productData[p].bestFor}</td>`).join('')}
                </tr>
            `;
        }

        function generateAIRecommendations() {
            const recommendations = document.getElementById('aiRecommendations');
            const recTexts = {
                'C1000': {
                    icon: 'üéí',
                    title: 'For Lightweight Travelers',
                    desc: 'Recommend C1000 - Most portable, essential features, budget-friendly'
                },
                'C2000': {
                    icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶',
                    title: 'For Families',
                    desc: 'Recommend C2000 - Best value, sufficient capacity, great portability'
                },
                'F2000': {
                    icon: 'üöê',
                    title: 'For RV Enthusiasts',
                    desc: 'Recommend F2000 - Larger capacity, expandable, perfect for extended trips'
                },
                'F3800': {
                    icon: 'üè°',
                    title: 'For Whole-Home Backup',
                    desc: 'Recommend F3800 - Professional power, 240V support, expandable to 26.88kWh'
                }
            };

            recommendations.innerHTML = compareProducts.map(product => {
                const rec = recTexts[product];
                return `
                    <div class="recommendation-card">
                        <h4>${rec.icon} ${rec.title}</h4>
                        <p>${rec.desc}</p>
                    </div>
                `;
            }).join('');
        }

        // Filter Functions
        document.querySelectorAll('.filter-option').forEach(option => {
            option.addEventListener('click', function() {
                this.classList.toggle('active');
            });
        });

        function applyFilters() {
            const selectedDevices = Array.from(document.querySelectorAll('.filter-option[data-device].active')).map(el => el.dataset.device);
            const selectedDuration = document.querySelector('.filter-option[data-duration].active')?.dataset.duration;
            const selectedWeight = document.querySelector('.filter-option[data-weight].active')?.dataset.weight;
            const selectedPrice = document.querySelector('.filter-option[data-price].active')?.dataset.price;

            let recommendation = '';

            // Simple recommendation logic
            if (selectedDevices.includes('ac') || selectedDevices.includes('tools')) {
                recommendation = 'F2000 or F3800';
            } else if (selectedWeight === 'light') {
                recommendation = 'C1000';
            } else if (selectedPrice === 'budget') {
                recommendation = 'C1000';
            } else if (selectedDuration === 'extralong' || selectedDuration === 'extended') {
                recommendation = 'F2000 or F3800';
            } else {
                recommendation = 'C2000';
            }

            showRecommendationModal(recommendation);
        }

        function resetFilters() {
            document.querySelectorAll('.filter-option.active').forEach(option => {
                option.classList.remove('active');
            });
        }

        // Tech Details Toggle
        function toggleTechDetails(element) {
            const details = element.nextElementSibling;
            const arrow = element.querySelector('.arrow');

            if (details.classList.contains('open')) {
                details.classList.remove('open');
                arrow.textContent = '‚ñº';
            } else {
                details.classList.add('open');
                arrow.textContent = '‚ñ≤';
            }
        }

        // Navigation Functions
        function showScenarios() {
            showScenarioModal();
        }

        function showPainPoints() {
            showPainPointModal();
        }

        function showProducts() {
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>